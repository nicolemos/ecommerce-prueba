<html>
  <head>
    <style>
      .video-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 500px;
      }
      .video-frame {
        width: 80%;
        height: 100%;
        border: 1px solid black;
      }
      .related-videos {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        width: 100%;
        border: 1px solid black;
        overflow-y: scroll;
        padding: 10px;
      }
      .related-video {
        margin-bottom: 10px;
      }
      .related-video img {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="video-container">
      <iframe class="video-frame" src="https://www.youtube.com/embed/_CQTrVnTuEI"></iframe>
    </div>
    <div class="related-videos"></div>
  </body>
  <script>
    const API_KEY = "AIzaSyByZE_jSQMPVpXFlN-KGYdFybNefXiR580";
    const playlistId = "PLVs9JdE6ZZh112EBnYa_wCxYpbVXEXrLF";
    const channelId = "UCGz-3CI7Wyvgu55SH1uDeNg"
    const relatedVideosContainer = document.querySelector(".related-videos");

    fetch(
      `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&channelId=${channelId}&playlistId=${playlistId}&maxResults=15&key=${API_KEY}`
    )
      .then(response => response.json())
      .then(data => {
        console.log(data);
        console.log(data.items[0].snippet.title)
        data.items.forEach(item => {
          const relatedVideo = document.createElement("div");
          relatedVideo.classList.add("related-video");

          //const relatedVideoThumb = JSON.stringify(document.createElement("img"));
          const relatedVideoThumb = document.createElement("img");
          relatedVideoThumb.src = item.snippet.thumbnails.high.url;
          relatedVideo.appendChild(relatedVideoThumb);

          relatedVideosContainer.appendChild(relatedVideo);
          
        });
        //console.log(relatedVideosJson);
      });
  </script>
</html>